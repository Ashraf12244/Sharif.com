<!DOCTYPE html>
<html lang="ur" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sharif.com — ای کامرس</title>
  <style>
    :root {
      --brand: #007bff;
      --bg: #f5f6f8;
      --text: #222;
      --card: #fff;
      --danger: #dc3545;
      --success: #28a745;
    }
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    body {
      margin: 0;
      background: var(--bg);
      color: var(--text);
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      text-align: right;
    }
    header {
      background: var(--brand);
      color: #fff;
      padding: 15px;
      position: sticky;
      top: 0;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      z-index: 100;
    }
    .nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 15px;
    }
    .logo {
      font-weight: bold;
      font-size: 22px;
    }
    .btn {
      background: #fff;
      color: var(--brand);
      border: 0;
      border-radius: 5px;
      padding: 8px 15px;
      cursor: pointer;
      font-weight: bold;
      transition: all 0.3s;
    }
    .btn:hover {
      opacity: 0.9;
    }
    .btn.ghost {
      background: transparent;
      color: #fff;
      border: 1px solid #fff;
    }
    .btn.danger {
      background: var(--danger);
      color: #fff;
    }
    .btn.success {
      background: var(--success);
      color: #fff;
    }
    .wrap {
      padding: 20px;
      max-width: 1200px;
      margin: 0 auto;
    }
    .tabs {
      display: flex;
      gap: 10px;
    }
    .tab {
      padding: 8px 15px;
      border-radius: 5px;
      background: rgba(255,255,255,0.2);
      cursor: pointer;
      transition: all 0.3s;
    }
    .tab:hover {
      background: rgba(255,255,255,0.3);
    }
    .tab.active {
      background: #fff;
      color: var(--brand);
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }
    @media (max-width: 768px) {
      .grid {
        grid-template-columns: 1fr;
      }
      .nav {
        flex-direction: row;
        align-items: center;
      }
    }
    .card {
      background: var(--card);
      border-radius: 10px;
      padding: 15px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      transition: transform 0.3s;
    }
    .card:hover {
      transform: translateY(-5px);
    }
    .card img {
      width: 100%;
      height: 200px;
      object-fit: contain;
      margin-bottom: 10px;
    }
    .title {
      font-weight: bold;
      margin: 10px 0;
      font-size: 18px;
    }
    .price {
      font-size: 18px;
      font-weight: bold;
      color: var(--brand);
      margin: 10px 0;
    }
    .description {
      color: #666;
      margin: 10px 0;
      font-size: 14px;
    }
    #cartPanel {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 350px;
      height: 100%;
      background: #fff;
      padding: 20px;
      box-shadow: 2px 0 10px rgba(0,0,0,0.1);
      overflow-y: auto;
      z-index: 1000;
    }
    #orderForm {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      z-index: 2000;
      align-items: center;
      justify-content: center;
    }
    #orderFormContent {
      background: #fff;
      padding: 30px;
      width: 90%;
      max-width: 500px;
      border-radius: 10px;
      position: relative;
    }
    .close-btn {
      position: absolute;
      top: 10px;
      left: 10px;
      background: var(--danger);
      color: white;
      border: none;
      width: 30px;
      height: 30px;
      border-radius: 50%;
      cursor: pointer;
      font-weight: bold;
    }
    .setgrid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 15px;
      margin: 20px 0;
    }
    .setgrid input, .setgrid textarea, .setgrid select {
      width: 100%;
      padding: 10px;
      border-radius: 5px;
      border: 1px solid #ddd;
      font-family: inherit;
    }
    .setgrid textarea {
      min-height: 100px;
      resize: vertical;
    }
    .form-group {
      margin-bottom: 15px;
    }
    .form-group label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
    }
    .step {
      display: none;
    }
    .step.active {
      display: block;
    }
    .step-nav {
      display: flex;
      justify-content: space-between;
      margin-top: 20px;
    }
    .hidden {
      display: none;
    }
    .seller-stage {
      margin-bottom: 30px;
      padding-bottom: 20px;
      border-bottom: 1px solid #eee;
    }
    .seller-stage:last-child {
      border-bottom: none;
    }
    #passwordPrompt {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.7);
      z-index: 3000;
      align-items: center;
      justify-content: center;
    }
    #passwordPromptContent {
      background: #fff;
      padding: 30px;
      border-radius: 10px;
      width: 90%;
      max-width: 400px;
    }
    .product-actions {
      display: flex;
      gap: 10px;
      margin-top: 15px;
    }
    .product-actions button {
      flex: 1;
    }
  </style>
</head>
<body>
  <header>
    <div class="nav">
      <div class="logo" id="storeName">Sharif.com</div>
      <div class="tabs" id="navTabs">
        <div class="tab active" data-page="home">ہوم پیج</div>
        <div class="tab" data-page="settings">سیٹنگز</div>
        <button class="btn ghost" onclick="toggleCart()">کارٹ دیکھیں</button>
      </div>
    </div>
  </header>

  <main class="wrap">
    <!-- HOME PAGE -->
    <section id="pageHome" class="page active">
      <h2>ہمارے مصنوعات</h2>
      <div class="grid" id="productsGrid"></div>
    </section>

    <!-- SETTINGS PAGE -->
    <section id="pageSettings" class="page">
      <h2>اسٹور سیٹنگز</h2>
      <div class="setgrid">
        <input type="text" placeholder="اسٹور کا نام" id="setStoreName" value="Sharif.com">
        <input type="text" placeholder="کرنسی" id="setCurrency" value="₹">
        <textarea placeholder="اسٹور نوٹس" id="setNotice"></textarea>
      </div>
      <button class="btn" onclick="saveStoreSettings()">سیٹنگز محفوظ کریں</button>
      <button class="btn danger" onclick="resetStoreSettings()">ری سیٹ کریں</button>

      <h2>پروڈکٹ مینجمنٹ</h2>
      <div class="setgrid">
        <input type="text" placeholder="پروڈکٹ کا نام" id="adminTitle">
        <input type="text" placeholder="برانڈ" id="adminBrand">
        <textarea placeholder="تفصیل" id="adminDescription"></textarea>
        <input type="number" placeholder="قیمت" id="adminPrice">
        <input type="file" id="imageInput" accept="image/*">
        <img id="imagePreview" src="" alt="پریویو" style="max-width: 200px; display: none; margin-top: 10px;">
      </div>
      <button class="btn" id="adminAddProductBtn" onclick="showPasswordPrompt('addProduct')">پروڈکٹ شامل کریں</button>

      <h2>موجودہ مصنوعات</h2>
      <div class="grid" id="adminProductList"></div>

      <h2>ایڈریس بک</h2>
      <div class="setgrid">
        <input type="text" placeholder="نام" id="custName">
        <input type="email" placeholder="ای میل" id="custEmail">
        <input type="tel" placeholder="فون نمبر" id="custPhone">
        <textarea placeholder="مکمل پتہ" id="custAddress"></textarea>
      </div>
      <button class="btn" onclick="saveAddress()">پتہ محفوظ کریں</button>
      <button class="btn danger" onclick="resetAddress()">ری سیٹ کریں</button>

      <h2>سیلر اکاؤنٹ بنائیں</h2>
      <div class="seller-stage">
        <h3>مرحلہ 1: بنیادی معلومات</h3>
        <div class="setgrid step active" id="sellerStep1">
          <input type="text" placeholder="مکمل نام" id="sellerName">
          <input type="email" placeholder="ای میل" id="sellerEmail">
          <input type="tel" placeholder="فون نمبر" id="sellerPhone">
          <div class="step-nav">
            <button class="btn" onclick="nextSellerStep(1, 2)">اگلا مرحلہ</button>
          </div>
        </div>
      </div>

      <div class="seller-stage">
        <h3>مرحلہ 2: اضافی معلومات</h3>
        <div class="setgrid step" id="sellerStep2">
          <textarea placeholder="مکمل پتہ" id="sellerAddress"></textarea>
          <input type="text" placeholder="بینک اکاؤنٹ تفصیلات" id="sellerBank">
          <input type="text" placeholder="قومی شناختی کارڈ نمبر" id="sellerID">
          <div class="step-nav">
            <button class="btn ghost" onclick="prevSellerStep(2, 1)">پچھلا مرحلہ</button>
            <button class="btn success" id="createSellerBtn" onclick="createSellerAccount()">اکاؤنٹ بنائیں</button>
          </div>
        </div>
      </div>

      <h2>زیر التواء سیلر اکاؤنٹس</h2>
      <div class="grid" id="pendingSellers"></div>
    </section>
  </main>

  <!-- Cart Panel -->
  <div id="cartPanel">
    <h3>آپ کا کارٹ</h3>
    <div id="cartItems"></div>
    <div id="cartTotal" style="font-weight: bold; margin: 15px 0;"></div>
    <button class="btn danger" onclick="clearCart()">کارٹ خالی کریں</button>
    <button class="btn success" onclick="showOrderForm()">آرڈر کریں</button>
  </div>

  <!-- Order Form -->
  <div id="orderForm">
    <div id="orderFormContent">
      <button class="close-btn" onclick="hideOrderForm()">×</button>
      <h3>آرڈر کی تفصیلات</h3>
      <form id="orderFormDetails">
        <div class="form-group">
          <label for="orderName">نام</label>
          <input type="text" id="orderName" name="name" required>
        </div>
        <div class="form-group">
          <label for="orderEmail">ای میل</label>
          <input type="email" id="orderEmail" name="email" required>
        </div>
        <div class="form-group">
          <label for="orderPhone">فون نمبر</label>
          <input type="tel" id="orderPhone" name="phone" required>
        </div>
        <div class="form-group">
          <label for="orderAddress">پتہ</label>
          <textarea id="orderAddress" name="address" required></textarea>
        </div>
        <div class="form-group">
          <label>آرڈر کی تفصیل</label>
          <div id="orderSummary" style="padding: 10px; background: #f5f5f5; border-radius: 5px;"></div>
        </div>
        <input type="hidden" name="order_details" id="orderDetails">
        <input type="hidden" name="order_total" id="orderTotal">
        <button type="submit" class="btn success" style="width: 100%; margin-top: 15px;">آرڈر جمع کروائیں</button>
      </form>
    </div>
  </div>

  <!-- Password Prompt -->
  <div id="passwordPrompt">
    <div id="passwordPromptContent">
      <h3>سیکورٹی پاسورڈ درکار ہے</h3>
      <input type="password" id="adminPasswordInput" placeholder="پاسورڈ درج کریں" style="width: 100%; padding: 10px; margin: 15px 0;">
      <button class="btn" onclick="verifyPassword()">تصدیق کریں</button>
      <button class="btn danger" onclick="hidePasswordPrompt()">منسوخ کریں</button>
      <p id="passwordError" style="color: var(--danger); margin-top: 10px; display: none;">غلط پاسورڈ!</p>
    </div>
  </div>

  <script>
    // State Management
    let products = JSON.parse(localStorage.getItem('products')) || [];
    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    let settings = JSON.parse(localStorage.getItem('settings')) || { storeName: 'Sharif.com', currency: '₹', notice: '' };
    let addresses = JSON.parse(localStorage.getItem('addresses')) || [];
    let pendingSellers = JSON.parse(localStorage.getItem('pendingSellers')) || [];
    let approvedSellers = JSON.parse(localStorage.getItem('approvedSellers')) || [];
    
    // Security Password
    const ADMIN_PASSWORD = '@122@44@good';
    let currentAction = '';
    let isAdmin = localStorage.getItem('isAdmin') === 'true';

    // DOM Elements
    const productsGrid = document.getElementById('productsGrid');
    const adminProductList = document.getElementById('adminProductList');
    const pendingSellersDiv = document.getElementById('pendingSellers');
    const cartItems = document.getElementById('cartItems');
    const cartTotal = document.getElementById('cartTotal');
    const orderSummary = document.getElementById('orderSummary');
    const imageInput = document.getElementById('imageInput');
    const imagePreview = document.getElementById('imagePreview');
    const storeName = document.getElementById('storeName');

    // Initialize
    document.addEventListener('DOMContentLoaded', function() {
      renderProducts();
      renderAdminProductList();
      renderPendingSellers();
      updateStoreName();
      
      // Navigation
      document.getElementById('navTabs').addEventListener('click', function(e) {
        if (e.target.classList.contains('tab')) {
          document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
          e.target.classList.add('active');
          
          document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
          document.getElementById(`page${e.target.dataset.page.charAt(0).toUpperCase() + e.target.dataset.page.slice(1)}`).classList.add('active');
        }
      });
      
      // Image Preview
      imageInput.addEventListener('change', function() {
        const file = this.files[0];
        if (file) {
          const reader = new FileReader();
          reader.onload = function(e) {
            imagePreview.src = e.target.result;
            imagePreview.style.display = 'block';
          };
          reader.readAsDataURL(file);
        }
      });
    });

    // Product Management
    function renderProducts() {
      productsGrid.innerHTML = '';
      products.forEach((product, index) => {
        const productCard = document.createElement('div');
        productCard.className = 'card';
        productCard.innerHTML = `
          <img src="${product.image || 'https://via.placeholder.com/300'}" alt="${product.title}">
          <div class="title">${product.title}</div>
          <div class="description">${product.description || 'تفصیل دستیاب نہیں'}</div>
          <div class="price">${settings.currency}${product.price.toLocaleString()}</div>
          <div class="product-actions">
            <button class="btn" onclick="addToCart(${index})">کارٹ میں شامل کریں</button>
            <button class="btn success" onclick="showOrderForm(${index})">ابھی خریدیں</button>
          </div>
        `;
        productsGrid.appendChild(productCard);
      });
    }

    function renderAdminProductList() {
      adminProductList.innerHTML = '';
      products.forEach((product, index) => {
        const productCard = document.createElement('div');
        productCard.className = 'card';
        productCard.innerHTML = `
          <img src="${product.image || 'https://via.placeholder.com/300'}" alt="${product.title}">
          <div class="title">${product.title}</div>
          <div class="price">${settings.currency}${product.price.toLocaleString()}</div>
          <button class="btn danger" onclick="showPasswordPrompt('deleteProduct', ${index})">ختم کریں</button>
        `;
        adminProductList.appendChild(productCard);
      });
    }

    function addProduct() {
      const title = document.getElementById('adminTitle').value;
      const brand = document.getElementById('adminBrand').value;
      const description = document.getElementById('adminDescription').value;
      const price = parseFloat(document.getElementById('adminPrice').value);
      const file = imageInput.files[0];

      if (!title || !price) {
        alert('براہ کرم کم از کم پروڈکٹ کا نام اور قیمت درج کریں');
        return;
      }

      if (file) {
        const reader = new FileReader();
        reader.onload = function(e) {
          const newProduct = {
            title,
            brand,
            description,
            price,
            image: e.target.result
          };
          products.push(newProduct);
          saveProducts();
          renderProducts();
          renderAdminProductList();
          clearAdminForm();
          alert('پروڈکٹ کامیابی سے شامل کی گئی!');
        };
        reader.readAsDataURL(file);
      } else {
        const newProduct = {
          title,
          brand,
          description,
          price,
          image: 'https://via.placeholder.com/300'
        };
        products.push(newProduct);
        saveProducts();
        renderProducts();
        renderAdminProductList();
        clearAdminForm();
        alert('پروڈکٹ کامیابی سے شامل کی گئی (بغیر تصویر کے)!');
      }
    }

    function deleteProduct(index) {
      products.splice(index, 1);
      saveProducts();
      renderProducts();
      renderAdminProductList();
      alert('پروڈکٹ ختم کی گئی!');
    }

    function clearAdminForm() {
      document.getElementById('adminTitle').value = '';
      document.getElementById('adminBrand').value = '';
      document.getElementById('adminDescription').value = '';
      document.getElementById('adminPrice').value = '';
      imageInput.value = '';
      imagePreview.style.display = 'none';
    }

    function saveProducts() {
      localStorage.setItem('products', JSON.stringify(products));
    }

    // Cart Management
    function addToCart(productIndex) {
      const existingItem = cart.find(item => item.productIndex === productIndex);
      
      if (existingItem) {
        existingItem.quantity++;
      } else {
        cart.push({
          productIndex: productIndex,
          quantity: 1
        });
      }
      
      saveCart();
      renderCart();
      alert('پروڈکٹ کارٹ میں شامل کی گئی!');
    }

    function removeFromCart(index) {
      cart.splice(index, 1);
      saveCart();
      renderCart();
    }

    function updateQuantity(index, newQuantity) {
      if (newQuantity < 1) {
        if (confirm('کیا آپ واقعی یہ آئٹم کارٹ سے نکالنا چاہتے ہیں؟')) {
          removeFromCart(index);
        }
        return;
      }
      
      cart[index].quantity = newQuantity;
      saveCart();
      renderCart();
    }

    function clearCart() {
      if (confirm('کیا آپ واقعی اپنا کارٹ خالی کرنا چاہتے ہیں؟')) {
        cart = [];
        saveCart();
        renderCart();
      }
    }

    function renderCart() {
      cartItems.innerHTML = '';
      let total = 0;
      
      cart.forEach((item, index) => {
        const product = products[item.productIndex];
        const itemTotal = product.price * item.quantity;
        total += itemTotal;
        
        const cartItem = document.createElement('div');
        cartItem.className = 'cart-item';
        cartItem.style.marginBottom = '10px';
        cartItem.style.paddingBottom = '10px';
        cartItem.style.borderBottom = '1px solid #eee';
        cartItem.innerHTML = `
          <div style="font-weight: bold;">${product.title}</div>
          <div>${settings.currency}${product.price.toLocaleString()} x ${item.quantity} = ${settings.currency}${itemTotal.toLocaleString()}</div>
          <div style="display: flex; gap: 5px; margin-top: 5px;">
            <input type="number" value="${item.quantity}" min="1" 
                   onchange="updateQuantity(${index}, parseInt(this.value))" style="width: 50px; text-align: center;">
            <button class="btn danger" onclick="removeFromCart(${index})" style="padding: 2px 5px;">ختم کریں</button>
          </div>
        `;
        cartItems.appendChild(cartItem);
      });
      
      cartTotal.textContent = `کل رقم: ${settings.currency}${total.toLocaleString()}`;
      
      // Update order form hidden fields
      document.getElementById('orderDetails').value = cart.map(item => {
        const product = products[item.productIndex];
        return `${product.title} x ${item.quantity} = ${settings.currency}${(product.price * item.quantity).toLocaleString()}`;
      }).join('\n');
      
      document.getElementById('orderTotal').value = `${settings.currency}${total.toLocaleString()}`;
      
      // Update order summary
      orderSummary.innerHTML = cart.map(item => {
        const product = products[item.productIndex];
        return `<div>${product.title} x ${item.quantity} = ${settings.currency}${(product.price * item.quantity).toLocaleString()}</div>`;
      }).join('') + `<div style="font-weight: bold; margin-top: 10px;">کل رقم: ${settings.currency}${total.toLocaleString()}</div>`;
    }

    function saveCart() {
      localStorage.setItem('cart', JSON.stringify(cart));
    }

    function toggleCart() {
      renderCart();
      document.getElementById('cartPanel').style.display = 
        document.getElementById('cartPanel').style.display === 'block' ? 'none' : 'block';
    }

    // Order Management
    function showOrderForm(productIndex) {
      if (productIndex !== undefined) {
        // Single product order
        const product = products[productIndex];
        orderSummary.innerHTML = `
          <div>${product.title} x 1 = ${settings.currency}${product.price.toLocaleString()}</div>
          <div style="font-weight: bold; margin-top: 10px;">کل رقم: ${settings.currency}${product.price.toLocaleString()}</div>
        `;
        document.getElementById('orderDetails').value = `${product.title} x 1 = ${settings.currency}${product.price.toLocaleString()}`;
        document.getElementById('orderTotal').value = `${settings.currency}${product.price.toLocaleString()}`;
      } else {
        // Cart order
        renderCart();
      }
      
      document.getElementById('orderForm').style.display = 'flex';
    }

    function hideOrderForm() {
      document.getElementById('orderForm').style.display = 'none';
      document.getElementById('orderFormDetails').reset();
    }

    document.getElementById('orderFormDetails').addEventListener('submit', function(e) {
      e.preventDefault();
      
      const name = this.name.value;
      const email = this.email.value;
      const phone = this.phone.value;
      const address = this.address.value;
      
      if (!name || !phone || !address) {
        alert('براہ کرم تمام ضروری فیلڈز کو پُر کریں');
        return;
      }
      
      // Here you would typically send the order to your server
      // For demo purposes, we'll just show an alert
      alert(`آرڈر کامیابی سے جمع کرایا گیا!\n\nنام: ${name}\nفون: ${phone}\nپتہ: ${address}\n\nہم جلد ہی آپ سے رابطہ کریں گے۔`);
      
      // Clear cart if this was a cart order
      if (cart.length > 0) {
        cart = [];
        saveCart();
        renderCart();
      }
      
      hideOrderForm();
    });

    // Seller Management
    function nextSellerStep(currentStep, nextStep) {
      // Validate current step
      if (currentStep === 1) {
        const name = document.getElementById('sellerName').value;
        const email = document.getElementById('sellerEmail').value;
        const phone = document.getElementById('sellerPhone').value;
        
        if (!name || !email || !phone) {
          alert('براہ کرم تمام ضروری فیلڈز کو پُر کریں');
          return;
        }
      }
      
      document.getElementById(`sellerStep${currentStep}`).classList.remove('active');
      document.getElementById(`sellerStep${nextStep}`).classList.add('active');
    }

    function prevSellerStep(currentStep, prevStep) {
      document.getElementById(`sellerStep${currentStep}`).classList.remove('active');
      document.getElementById(`sellerStep${prevStep}`).classList.add('active');
    }

    function createSellerAccount() {
      const name = document.getElementById('sellerName').value;
      const email = document.getElementById('sellerEmail').value;
      const phone = document.getElementById('sellerPhone').value;
      const address = document.getElementById('sellerAddress').value;
      const bank = document.getElementById('sellerBank').value;
      const id = document.getElementById('sellerID').value;
      
      if (!name || !email || !phone || !address || !bank || !id) {
        alert('براہ کرم تمام ضروری فیلڈز کو پُر کریں');
        return;
      }
      
      const newSeller = {
        name,
        email,
        phone,
        address,
        bank,
        id,
        status: 'pending',
        date: new Date().toLocaleString()
      };
      
      pendingSellers.push(newSeller);
      localStorage.setItem('pendingSellers', JSON.stringify(pendingSellers));
      
      alert('سیلر اکاؤنٹ کی درخواست کامیابی سے جمع کرائی گئی! انتظامیہ کی منظوری کے لیے انتظار کریں۔');
      
      // Reset form
      document.getElementById('sellerName').value = '';
      document.getElementById('sellerEmail').value = '';
      document.getElementById('sellerPhone').value = '';
      document.getElementById('sellerAddress').value = '';
      document.getElementById('sellerBank').value = '';
      document.getElementById('sellerID').value = '';
      
      // Go back to step 1
      document.getElementById('sellerStep2').classList.remove('active');
      document.getElementById('sellerStep1').classList.add('active');
      
      renderPendingSellers();
    }

    function renderPendingSellers() {
      pendingSellersDiv.innerHTML = '';
      
      pendingSellers.forEach((seller, index) => {
        if (seller.status === 'pending') {
          const sellerCard = document.createElement('div');
          sellerCard.className = 'card';
          sellerCard.innerHTML = `
            <div class="title">${seller.name}</div>
            <div>ای میل: ${seller.email}</div>
            <div>فون: ${seller.phone}</div>
            <div>پتہ: ${seller.address}</div>
            <div>بینک: ${seller.bank}</div>
            <div>شناختی نمبر: ${seller.id}</div>
            <div style="margin-top: 10px;">
              <button class="btn" onclick="approveSeller(${index})">منظور کریں</button>
              <button class="btn danger" onclick="rejectSeller(${index})">مسترد کریں</button>
            </div>
          `;
          pendingSellersDiv.appendChild(sellerCard);
        }
      });
    }

    function approveSeller(index) {
      const seller = pendingSellers[index];
      seller.status = 'approved';
      approvedSellers.push(seller);
      pendingSellers.splice(index, 1);
      
      localStorage.setItem('pendingSellers', JSON.stringify(pendingSellers));
      localStorage.setItem('approvedSellers', JSON.stringify(approvedSellers));
      
      renderPendingSellers();
      alert('سیلر اکاؤنٹ منظور کر لیا گیا!');
    }

    function rejectSeller(index) {
      pendingSellers.splice(index, 1);
      localStorage.setItem('pendingSellers', JSON.stringify(pendingSellers));
      renderPendingSellers();
      alert('سیلر اکاؤنٹ مسترد کر دیا گیا!');
    }

    // Settings Management
    function saveStoreSettings() {
      settings.storeName = document.getElementById('setStoreName').value || 'Sharif.com';
      settings.currency = document.getElementById('setCurrency').value || '₹';
      settings.notice = document.getElementById('setNotice').value || '';
      
      localStorage.setItem('settings', JSON.stringify(settings));
      updateStoreName();
      alert('سیٹنگز کامیابی سے محفوظ کر لی گئیں!');
    }

    function resetStoreSettings() {
      if (confirm('کیا آپ واقعی تمام سیٹنگز کو ڈیفالٹ پر ری سیٹ کرنا چاہتے ہیں؟')) {
        localStorage.removeItem('settings');
        settings = { storeName: 'Sharif.com', currency: '₹', notice: '' };
        document.getElementById('setStoreName').value = settings.storeName;
        document.getElementById('setCurrency').value = settings.currency;
        document.getElementById('setNotice').value = settings.notice;
        updateStoreName();
        alert('سیٹنگز ڈیفالٹ پر ری سیٹ کر دی گئیں!');
      }
    }

    function updateStoreName() {
      storeName.textContent = settings.storeName;
      document.title = `${settings.storeName} — ای کامرس`;
    }

    // Address Book
    function saveAddress() {
      const name = document.getElementById('custName').value;
      const email = document.getElementById('custEmail').value;
      const phone = document.getElementById('custPhone').value;
      const address = document.getElementById('custAddress').value;
      
      if (!name || !phone || !address) {
        alert('براہ کرم تمام ضروری فیلڈز کو پُر کریں');
        return;
      }
      
      const newAddress = {
        name,
        email,
        phone,
        address,
        date: new Date().toLocaleString()
      };
      
      addresses.push(newAddress);
      localStorage.setItem('addresses', JSON.stringify(addresses));
      
      alert('پتہ کامیابی سے محفوظ کر لیا گیا!');
      
      // Reset form
      document.getElementById('custName').value = '';
      document.getElementById('custEmail').value = '';
      document.getElementById('custPhone').value = '';
      document.getElementById('custAddress').value = '';
    }

    function resetAddress() {
      if (confirm('کیا آپ واقعی ایڈریس بک کو خالی کرنا چاہتے ہیں؟')) {
        localStorage.removeItem('addresses');
        addresses = [];
        document.getElementById('custName').value = '';
        document.getElementById('custEmail').value = '';
        document.getElementById('custPhone').value = '';
        document.getElementById('custAddress').value = '';
        alert('ایڈریس بک خالی کر دی گئی!');
      }
    }

    // Password Protection
    function showPasswordPrompt(action, index = null) {
      currentAction = { action, index };
      document.getElementById('passwordPrompt').style.display = 'flex';
      document.getElementById('adminPasswordInput').value = '';
      document.getElementById('passwordError').style.display = 'none';
      document.getElementById('adminPasswordInput').focus();
    }

    function hidePasswordPrompt() {
      document.getElementById('passwordPrompt').style.display = 'none';
      currentAction = '';
    }

    function verifyPassword() {
      const enteredPassword = document.getElementById('adminPasswordInput').value;
      
      if (enteredPassword === ADMIN_PASSWORD) {
        hidePasswordPrompt();
        
        if (currentAction.action === 'addProduct') {
          addProduct();
        } else if (currentAction.action === 'deleteProduct') {
          deleteProduct(currentAction.index);
        }
      } else {
        document.getElementById('passwordError').style.display = 'block';
        document.getElementById('adminPasswordInput').focus();
      }
    }
  </script>
</body>
</html>
